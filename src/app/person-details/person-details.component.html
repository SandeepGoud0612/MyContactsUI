<div class="row">
  <div class="col-md-12">
    <div class="card">
      <form *ngIf="selectedPerson" #personalDetailsForm="ngForm">
        <div class="card-header bg-success text-white">
          Personal Details
          <button class="btn btn-link btn-sm fa fa-pencil float-right text-white" *ngIf="readonlyPersonalDetails" (click)="onPersonalDetailsUpdateClick()"> Update</button>
          <button class="btn btn-link btn-sm fa fa-times text-white float-right" *ngIf="!readonlyPersonalDetails" (click)="onPersonlDetailsUpdateCancleClick()"> Cancel</button>
          <button class="btn btn-link btn-sm fa fa-check float-right text-white" [disabled]="!personalDetailsForm.form.valid" *ngIf="!readonlyPersonalDetails"
            (click)="onPersonDetailsSaveClick()"> Save</button>
        </div>
        <div class="card-block">
          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <label for="firstNameRead">First Name<span class="text-danger"> *</span></label>
                <input type="text" required class="form-control" id="firstNameRead" name="firstNameRead" #firstNameRead="ngModel" [(ngModel)]="selectedPerson.firstName"
                  [disabled]="readonlyPersonalDetails" />
                <div *ngIf="firstNameRead.errors && (firstNameRead.dirty || firstNameRead.touched)" class="alert alert-danger">
                  <div [hidden]="!firstNameRead.errors.required">
                    First name is required
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="lastNameRead">Last Name<span class="text-danger"> *</span></label>
                <input type="text" required class="form-control" id="lastNameRead" name="lastNameRead" #lastNameRead="ngModel" [(ngModel)]="selectedPerson.lastName"
                  [disabled]="readonlyPersonalDetails" />
                <div *ngIf="lastNameRead.errors && (lastNameRead.dirty || lastNameRead.touched)" class="alert alert-danger">
                  <div [hidden]="!lastNameRead.errors.required">
                    Last name is required
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="dobRead">DOB</label>
                <input type="date" class="form-control" id="dobRead" #dobRead="ngModel" name="dobRead" [(ngModel)]="selectedPerson.dob"
                  [disabled]="readonlyPersonalDetails"/>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="genderRead">Gender<span class="text-danger"> *</span></label>
                <select class="form-control" required id="genderRead" name="genderRead" #genderRead="ngModel" [(ngModel)]="selectedPerson.gender"
                  [disabled]="readonlyPersonalDetails">
                    <option selected value>Select</option>
                    <option>Female</option>
                    <option>Male</option>      
                </select>
                <div *ngIf="genderRead.errors && (genderRead.dirty || genderRead.touched)" class="alert alert-danger">
                  <div [hidden]="!genderRead.errors.required">
                    Gender is required
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="maritalStatusRead">Marital Status</label>
                <select class="form-control" id="maritalStatusRead" name="maritalStatusRead" [(ngModel)]="selectedPerson.maritalStatus" [disabled]="readonlyPersonalDetails">
                    <option selected>Select</option>
                    <option>Single</option>
                    <option>Married</option>      
                   </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-3">
              <div class="form-group">
                <label for="phoneNumberRead">Phone Number<span class="text-danger"> *</span></label>
                <input type="number" class="form-control" id="phoneNumberRead" name="phoneNumberRead" [(ngModel)]="selectedPerson.phoneNumber"
                  [disabled]="readonlyPersonalDetails" required #phoneNumberRead="ngModel" />
                <div *ngIf="phoneNumberRead.errors && (phoneNumberRead.dirty || phoneNumberRead.touched)" class="alert alert-danger">
                  <div [hidden]="!phoneNumberRead.errors.required">
                    Phone number is required
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="alternatePhoneNumberRead">Alternate Phone Number</label>
                <input type="number" class="form-control" id="alternatePhoneNumberRead" name="alternatePhoneNumberRead" [(ngModel)]="selectedPerson.alternatePhoneNumber"
                  [disabled]="readonlyPersonalDetails" />
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="emailIdRead">EmailId<span class="text-danger"> *</span></label>
                <input type="email" required class="form-control" id="emailIdRead" name="emailIdRead" #emailIdRead="ngModel" [(ngModel)]="selectedPerson.emailId"
                  [disabled]="readonlyPersonalDetails" />
                <div *ngIf="emailIdRead.errors && (emailIdRead.dirty || emailIdRead.touched)" class="alert alert-danger">
                  <div [hidden]="!emailIdRead.errors.required">
                    EmailId is required
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="alternateEmailIdRead">Alternate EmailId</label>
                <input type="email" class="form-control" id="alternateEmailIdRead" name="alternateEmailIdRead" [(ngModel)]="selectedPerson.alternateEmailId"
                  [disabled]="readonlyPersonalDetails" />
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<br>

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header bg-success text-white">
        Address
      </div>
      <div class="card-block" *ngIf="selectedPerson">
        <table class="table table-bordered table-hover table-sm">
          <thead>
            <tr>
              <th>Address Line1</th>
              <th>Address Line2</th>
              <th>City</th>
              <th>State</th>
              <th>Country</th>
              <th>ZipCode</th>
            </tr>
          </thead>
          <tbody *ngIf="selectedPerson.addressList">
            <tr *ngFor="let address of selectedPerson.addressList">
              <td>{{address.addressLine1}}</td>
              <td>{{address.addressLine2}}</td>
              <td>{{address.city}}</td>
              <td>{{address.state}}</td>
              <td>{{address.country}}</td>
              <td>{{address.zipCode}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<br>

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header bg-success text-white">
        Occasions
        <button type="button" class="btn btn-link btn-sm float-right fa fa-plus text-white" aria-hidden="true" *ngIf="readOnlyOccasion"
          (click)="onOccasionCreateClick()"> Create</button>
        <button type="button" *ngIf="!readOnlyOccasion" class="btn btn-link btn-sm float-right fa fa-times toggleLeft text-white"
          (click)="onOccasionUpdateCancleClick()"> Cancel</button>
        <button type="button" *ngIf="!readOnlyOccasion" class="btn btn-link btn-sm float-right fa fa-check text-white" (click)="onOccasionUpdateSaveClick()"> Save</button>
      </div>
      <div class="card-block" *ngIf="selectedPerson">
        <table class="table table-bordered table-hover table-sm" *ngIf="readOnlyOccasion">
          <thead>
            <tr>
              <th>Name</th>
              <th>Date</th>
              <th>RemindMe</th>
              <th>Edit</th>
              <th>Delete</th>
            </tr>
          </thead>
          <tbody *ngIf="selectedPerson.occasionList">
            <tr *ngFor="let occasion of selectedPerson.occasionList">
              <td class="width25">{{occasion.name}}</td>
              <td class="width25">{{occasion.date | date: 'MMM/dd/yyyy'}}</td>
              <td class="width25">{{occasion.remindMe}}</td>
              <td class="width10"><button type="button" class="btn btn-link fa fa-pencil" aria-hidden="true" *ngIf="readOnlyOccasion" (click)="onOccasionUpdateClick(occasion)"> Update</button></td>
              <td class="width10"><button type="button" class="btn btn-link fa fa-trash text-danger" aria-hidden="true" *ngIf="readOnlyOccasion"
                  (click)="onOccasionDeleteClick(occasion)"> Delete</button></td>
            </tr>
          </tbody>
        </table>
        <div class="card" *ngIf="!readOnlyOccasion">
          <div class="card-block">
            <form>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="occasionNameUpdate">Name</label>
                    <input type="text" class="form-control" id="occasionNameUpdate" name="occasionNameUpdate" [(ngModel)]="selectedOccasion.name"
                    />
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group">
                    <label for="occasionDateUpdate">Date</label>
                    <input type="date" class="form-control" id="occasionDateUpdate" name="occasionDateUpdate" [(ngModel)]="selectedOccasion.date"
                    />
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="form-group">
                    <br>
                    <label class="form-check-label">
                               <input class="form-check-input" type="checkbox" id="occasionRemindMeUpdate" name="occasionRemindMeUpdate" [(ngModel)]="selectedOccasion.remindMe"> Remind Me
                    </label>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>